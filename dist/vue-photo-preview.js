!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vue-photo-preview",[],t):"object"==typeof exports?exports["vue-photo-preview"]=t():e["vue-photo-preview"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=2)}([function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";var r=n(7),o=(n.n(r),n(8));n.n(o);t.a={}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n.n(o),a=n(5),s=n(10),l=n(11),u=n.n(l),c=void 0,p={install:function(e,t){var n=e.extend(a.a),t=t||{};c||(c=new n({el:document.createElement("div")}),document.body.appendChild(c.$el));var o=void 0,l=void 0;e.prototype.$preview={self:null,on:function(e,t){o=e,l=t}},e.mixin({data:function(){return{galleryElements:null,galleryPicLoading:!1}},methods:{$previewRefresh:function(){var e=this;setTimeout(function(){e.galleryElements=document.querySelectorAll("img[preview]");for(var t=0,n=e.galleryElements.length;t<n;t++)e.galleryElements[t].setAttribute("data-pswp-uid",t+1),e.galleryElements[t].onclick=e.onThumbnailsClick},200)},onThumbnailsClick:function(e){if(this.galleryPicLoading)return!1;this.galleryPicLoading=!0,e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t,n=e.target||e.srcElement,r=n.getAttribute("preview");t=r?document.querySelectorAll('img[preview="'+r+'"]'):document.querySelectorAll("img[preview]");for(var o,i=t,a=0;a<i.length;a++)if(i[a]===n){o=a;break}return o>=0&&(this.openPhotoSwipe(o,i),this.$emit("preview-open",e,n.src)),!1},openPhotoSwipe:function(n,a,p,d){var f=this;return r(i.a.mark(function m(){var h,v,w,g,y,x,b,_,C,I;return i.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return h=document.querySelectorAll(".pswp")[0],m.next=3,f.parseThumbnailElements(a);case 3:if(g=m.sent,w={getThumbBoundsFn:function(e){var t=g[e].el,n=window.pageYOffset||document.documentElement.scrollTop,r=t.getBoundingClientRect();return{x:r.left,y:r.top+n,w:r.width}},addCaptionHTMLFn:function(e,t,n){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerText="",!1)},showHideOpacity:!0,history:!1,shareEl:!1,maxSpreadZoom:3,getDoubleTapZoom:function(e,t){return e?1.5:t.initialZoomLevel<.7?1:1.5}},!d){m.next=20;break}if(!w.galleryPIDs){m.next=17;break}y=0;case 8:if(!(y<g.length)){m.next=15;break}if(g[y].pid!=n){m.next=12;break}return w.index=y,m.abrupt("break",15);case 12:y++,m.next=8;break;case 15:m.next=18;break;case 17:w.index=parseInt(n,10)-1;case 18:m.next=21;break;case 20:w.index=parseInt(n,10);case 21:if(!isNaN(w.index)){m.next=23;break}return m.abrupt("return");case 23:w=f.extend(w,t),p&&(w.showAnimationDuration=0),v=new s.a(h,u.a,g,w),e.prototype.$preview.self=v,b=!1,_=!0,v.listen("beforeResize",function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5),x=v.viewportSize.x*e,x>=1200||!v.likelyTouchDevice&&x>800||screen.width>1200?b||(b=!0,C=!0):b&&(b=!1,C=!0),C&&!_&&v.invalidateCurrItems(),_&&(_=!1),C=!1}),I={},v.listen("gettingData",function(){var e=r(i.a.mark(function e(t,n){var r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!I[t]){e.next=5;break}return e.next=3,I[t];case 3:return I[t]=null,e.abrupt("return");case 5:if(r=t,o=v.items,1061109567!==n.o.w){e.next=13;break}return a=new Image,I[t]=new Promise(function(e){a.src=n.src,a.onload=function(){n.o.w=n.m.w=a.width,n.o.h=n.m.h=a.height,e()}}),e.next=11,I[t];case 11:n.el.getAttribute("large")?(n.src=n.o.src,n.w=n.o.w,n.h=n.o.h):(n.src=n.m.src,n.w=n.m.w,n.h=n.m.h),I[t]=null;case 13:case"end":return e.stop()}},e,f)}));return function(t,n){return e.apply(this,arguments)}}()),v.listen("imageLoadComplete",function(e,t){f.galleryPicLoading=!1}),v.listen(o,l),v.init(),c.$el.classList=c.$el.classList+" pswp--zoom-allowed";case 35:case"end":return m.stop()}},m,f)}))()},parseThumbnailElements:function(e){return new Promise(function(t){var n,r,o=new Array(e.length);r={};for(var i=0,a=0;a<e.length;a++){n=e[a],1===n.nodeType&&function(a){if(void 0===n.naturalWidth){var s=new Image;s.src=n.src;var l=s.width,u=s.height}else var l=n.naturalWidth,u=n.naturalHeight;var c={};c.src=n.getAttribute("large")?n.getAttribute("large"):n.getAttribute("src"),c.text=n.getAttribute("preview-text"),c.author=n.getAttribute("data-author"),r={title:c.text,el:e[a],src:c.src,w:l,h:u,rw:l,rh:u,author:c.author,o:{src:c.src,w:1061109567,h:1061109567},m:{src:c.src,w:1061109567,h:1061109567}},o[a]=r,++i===e.length&&t(o)}(a)}})},extend:function(e,t){for(var n in t)e[n]=t[n];return e},initPreview:function(e){this.galleryElements=document.querySelectorAll(e);for(var t=0,n=this.galleryElements.length;t<n;t++)this.galleryElements[t].setAttribute("data-pswp-uid",t+1),this.galleryElements[t].onclick=this.onThumbnailsClick}},mounted:function(){this.initPreview("img[preview]")}})}};t.default=p,"undefined"==typeof window||window.vuePhotoPreview||(window.vuePhotoPreview=p)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(4),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),s=new f(r||[]);return a._invoke=u(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,o,i,a){var s=r(e[n],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){l.value=e,i(l)},a)}a(s.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function u(e,t,n){var o=E;return function(i,a){if(o===k)throw new Error("Generator is already running");if(o===S){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===D)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===E)throw o=S,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=k;var u=r(e,t,n);if("normal"===u.type){if(o=n.done?S:T,u.arg===D)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=S,n.method="throw",n.arg=u.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return D;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,D;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,D):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,D)}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function m(e){if(e){var t=e[x];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:v,done:!0}}var v,w=Object.prototype,g=w.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},x=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",_=y.toStringTag||"@@toStringTag",C="object"==typeof e,I=t.regeneratorRuntime;if(I)return void(C&&(e.exports=I));I=t.regeneratorRuntime=C?e.exports:{},I.wrap=n;var E="suspendedStart",T="suspendedYield",k="executing",S="completed",D={},A={};A[x]=function(){return this};var L=Object.getPrototypeOf,O=L&&L(L(m([])));O&&O!==w&&g.call(O,x)&&(A=O);var M=a.prototype=o.prototype=Object.create(A);i.prototype=M.constructor=a,a.constructor=i,a[_]=i.displayName="GeneratorFunction",I.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},I.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(M),e},I.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[b]=function(){return this},I.AsyncIterator=l,I.async=function(e,t,r,o){var i=new l(n(e,t,r,o));return I.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(M),M[_]="Generator",M[x]=function(){return this},M.toString=function(){return"[object Generator]"},I.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},I.values=m,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),s=g.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,D):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),D}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),D}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(6),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t){e.exports=function(e,t,n,r,o,i){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var u="function"==typeof s?s.options:s;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):r&&(c=r),c){var p=u.functional,d=p?u.render:u.beforeCreate;p?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:s,options:u}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pswp",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[n("div",{staticClass:"pswp__bg"}),e._v(" "),n("div",{staticClass:"pswp__scroll-wrap"},[n("div",{staticClass:"pswp__container"},[n("div",{staticClass:"pswp__item"}),e._v(" "),n("div",{staticClass:"pswp__item"}),e._v(" "),n("div",{staticClass:"pswp__item"})]),e._v(" "),n("div",{staticClass:"pswp__ui pswp__ui--hidden"},[n("div",{staticClass:"pswp__top-bar"},[n("div",{staticClass:"pswp__counter"}),e._v(" "),n("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"Close (Esc)"}}),e._v(" "),n("button",{staticClass:"pswp__button pswp__button--share",attrs:{title:"Share"}}),e._v(" "),n("button",{staticClass:"pswp__button pswp__button--fs",attrs:{title:"Toggle fullscreen"}}),e._v(" "),n("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"Zoom in/out"}}),e._v(" "),n("div",{staticClass:"pswp__preloader"},[n("div",{staticClass:"pswp__preloader__icn"},[n("div",{staticClass:"pswp__preloader__cut"},[n("div",{staticClass:"pswp__preloader__donut"})])])])]),e._v(" "),n("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[n("div",{staticClass:"pswp__share-tooltip"})]),e._v(" "),n("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"Previous (arrow left)"}}),e._v(" "),n("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"Next (arrow right)"}}),e._v(" "),n("div",{staticClass:"pswp__caption"},[n("div",{staticClass:"pswp__caption__center"})])])])])}],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var o=n(0),i=n.n(o),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t,n,o){var s={features:null,bind:function(e,t,n,r){var o=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var i=0;i<t.length;i++)t[i]&&e[o](t[i],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){s.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){s.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(s.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(s.features)return s.features;var e=s.createEl(),t=e.style,n="",r={};if(r.oldIE=document.all&&!document.addEventListener,r.touch="ontouchstart"in window,window.requestAnimationFrame&&(r.raf=window.requestAnimationFrame,r.caf=window.cancelAnimationFrame),r.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!r.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);i&&i.length>0&&(i=parseInt(i[1],10))>=1&&i<8&&(r.isOldIOSPhone=!0)}var a=o.match(/Android\s([0-9\.]*)/),l=a?a[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(r.isOldAndroid=!0),r.androidVersion=l),r.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var u,c,p=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],f=0;f<4;f++){n=d[f];for(var m=0;m<3;m++)u=p[m],c=n+(n?u.charAt(0).toUpperCase()+u.slice(1):u),!r[u]&&c in t&&(r[u]=c);n&&!r.raf&&(n=n.toLowerCase(),r.raf=window[n+"RequestAnimationFrame"],r.raf&&(r.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!r.raf){var h=0;r.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),r=window.setTimeout(function(){e(t+n)},n);return h=t+n,r},r.caf=function(e){clearTimeout(e)}}return r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,s.features=r,r}};s.detectFeatures(),s.features.oldIE&&(s.bind=function(e,t,n,r){t=t.split(" ");for(var o,i=(r?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(o=t[l])if("object"===(void 0===n?"undefined":a(n))&&n.handleEvent){if(r){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=s;e[i]("on"+o,n["oldIE"+o])}else e[i]("on"+o,n)});var l=this,u={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};s.extend(u,o);var c,p,d,f,m,h,v,w,g,y,x,b,_,C,I,E,T,k,S,D,A,L,O,M,F,P,R,Z,z,N,U,H,K,W,B,G,Y,j,q,$,V,X,J,Q,ee,te,ne,re,oe,ie,ae,se,le,ue,ce,pe,de,fe=function(){return{x:0,y:0}},me=fe(),he=fe(),ve=fe(),we={},ge=0,ye={},xe=fe(),be=0,_e=!0,Ce=[],Ie={},Ee=!1,Te=function(e,t){s.extend(l,t.publicMethods),Ce.push(e)},ke=function(e){var t=tn();return e>t-1?e-t:e<0?t+e:e},Se={},De=function(e,t){return Se[e]||(Se[e]=[]),Se[e].push(t)},Ae=function(e){var t=Se[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(l,n)}},Le=function(){var e=r(i.a.mark(function e(t){var n,r,o,a,s=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Se[t])){e.next=7;break}for(r=Array.prototype.slice.call(s),r.shift(),o=[],a=0;a<n.length;a++)o.push(n[a].apply(l,r));return e.abrupt("return",Promise.all(o));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){return(new Date).getTime()},Me=function(e){ce=e,l.bg.style.opacity=e*u.bgOpacity},Fe=function(e,t,n,r,o){(!Ee||o&&o!==l.currItem)&&(r/=o?o.fitRatio:l.currItem.fitRatio),e[L]=b+t+"px, "+n+"px"+_+" scale("+r+")"},Pe=function(e){ie&&(e&&(y>l.currItem.fitRatio?Ee||(mn(l.currItem,!1,!0),Ee=!0):Ee&&(mn(l.currItem),Ee=!1)),Fe(ie,ve.x,ve.y,y))},Re=function(e){e.container&&Fe(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ze=function(e,t){t[L]=b+e+"px, 0px"+_},ze=function(e,t){if(!u.loop&&t){var n=f+(xe.x*ge-e)/xe.x,r=Math.round(e-xt.x);(n<0&&r>0||n>=tn()-1&&r<0)&&(e=xt.x+r*u.mainScrollEndFriction)}xt.x=e,Ze(e,m)},Ne=function(e,t){var n=bt[e]-ye[e];return he[e]+me[e]+n-n*(t/x)},Ue=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},He=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ke=null,We=function t(){Ke&&(s.unbind(document,"mousemove",t),s.addClass(e,"pswp--has_mouse"),u.mouseUsed=!0,Ae("mouseUsed")),Ke=setTimeout(function(){Ke=null},100)},Be=function(){s.bind(document,"keydown",l),U.transform&&s.bind(l.scrollWrap,"click",l),u.mouseUsed||s.bind(document,"mousemove",We),s.bind(window,"resize scroll orientationchange",l),Ae("bindEvents")},Ge=function(){s.unbind(window,"resize scroll orientationchange",l),s.unbind(window,"scroll",g.scroll),s.unbind(document,"keydown",l),s.unbind(document,"mousemove",We),U.transform&&s.unbind(l.scrollWrap,"click",l),q&&s.unbind(window,v,l),clearTimeout(H),Ae("unbindEvents")},Ye=function(e,t){var n=cn(l.currItem,we,e);return t&&(oe=n),n},je=function(e){return e||(e=l.currItem),e.initialZoomLevel},qe=function(e){return e||(e=l.currItem),e.w>0?u.maxSpreadZoom:1},$e=function(e,t,n,r){return r===l.currItem.initialZoomLevel?(n[e]=l.currItem.initialPosition[e],!0):(n[e]=Ne(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ve=function(){if(L){var t=U.perspective&&!M;return b="translate"+(t?"3d(":"("),void(_=U.perspective?", 0px)":")")}L="left",s.addClass(e,"pswp--ie"),Ze=function(e,t){t.left=e+"px"},Re=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,o=t*e.h;n.width=r+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Pe=function(){if(ie){var e=ie,t=l.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,o=n*t.h;e.width=r+"px",e.height=o+"px",e.left=ve.x+"px",e.top=ve.y+"px"}}},Xe=function(e){var t="";u.escKey&&27===e.keyCode?t="close":u.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,l[t]()))},Je=function(e){e&&(X||V||ae||Y)&&(e.preventDefault(),e.stopPropagation())},Qe=function(){l.setScrollOffset(0,s.getScrollY())},et={},tt=0,nt=function(e){et[e]&&(et[e].raf&&P(et[e].raf),tt--,delete et[e])},rt=function(e){et[e]&&nt(e),et[e]||(tt++,et[e]={})},ot=function(){for(var e in et)et.hasOwnProperty(e)&&nt(e)},it=function(e,t,n,r,o,i,a){var s,l=Oe();rt(e);!function u(){if(et[e]){if((s=Oe()-l)>=r)return nt(e),i(n),void(a&&a());i((n-t)*o(s/r)+t),et[e].raf=F(u)}}()},at=function(){var e=r(i.a.mark(function e(t,n,o,a,s,l,u){var c,p,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=Oe(),rt(t),d=function(){var e=r(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!et[t]){e.next=13;break}if(!((p=Oe()-c)>=a)){e.next=10;break}return nt(t),e.next=6,l(o);case 6:if(!u){e.next=9;break}return e.next=9,u();case 9:return e.abrupt("return");case 10:return e.next=12,l((o-n)*s(p/a)+n);case 12:et[t].raf=F(d);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.next=5,d();case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r,o,i,a,s){return e.apply(this,arguments)}}(),st={shout:Ae,listen:De,viewportSize:we,options:u,isMainScrollAnimating:function(){return ae},getZoomLevel:function(){return y},getCurrentIndex:function(){return f},isDragging:function(){return q},isZooming:function(){return te},setScrollOffset:function(e,t){ye.x=e,N=ye.y=t,Ae("updateScrollOffset",ye)},applyZoomPan:function(e,t,n,r){ve.x=t,ve.y=n,y=e,Pe(r)},init:function(){if(!c&&!p){var n;l.framework=s,l.template=e,l.bg=s.getChildByClass(e,"pswp__bg"),R=e.className,c=!0,U=s.detectFeatures(),F=U.raf,P=U.caf,L=U.transform,z=U.oldIE,l.scrollWrap=s.getChildByClass(e,"pswp__scroll-wrap"),l.container=s.getChildByClass(l.scrollWrap,"pswp__container"),m=l.container.style,l.itemHolders=E=[{el:l.container.children[0],wrap:0,index:-1},{el:l.container.children[1],wrap:0,index:-1},{el:l.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",Ve(),g={resize:l.updateSize,orientationchange:function(){clearTimeout(H),H=setTimeout(function(){we.x!==l.scrollWrap.clientWidth&&l.updateSize()},500)},scroll:Qe,keydown:Xe,click:Je};var o=U.isOldIOSPhone||U.isOldAndroid||U.isMobileOpera;for(U.animationName&&U.transform&&!o||(u.showAnimationDuration=u.hideAnimationDuration=0),n=0;n<Ce.length;n++)l["init"+Ce[n]]();if(t){(l.ui=new t(l,s)).init()}Ae("firstUpdate"),f=f||u.index||0,(isNaN(f)||f<0||f>=tn())&&(f=0),l.currItem=en(f),(U.isOldIOSPhone||U.isOldAndroid)&&(_e=!1),e.setAttribute("aria-hidden","false"),u.modal&&(_e?e.style.position="fixed":(e.style.position="absolute",e.style.top=s.getScrollY()+"px")),void 0===N&&(Ae("initialLayout"),N=Z=s.getScrollY());var a="pswp--open ";for(u.mainClass&&(a+=u.mainClass+" "),u.showHideOpacity&&(a+="pswp--animate_opacity "),a+=M?"pswp--touch":"pswp--notouch",a+=U.animationName?" pswp--css_animation":"",a+=U.svg?" pswp--svg":"",s.addClass(e,a),l.updateSize(),h=-1,be=null,n=0;n<3;n++)Ze((n+h)*xe.x,E[n].el.style);z||s.bind(l.scrollWrap,w,l),De("initialZoomInEnd",r(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.setContentAsync(E[0],f-1);case 2:return t.next=4,l.setContentAsync(E[2],f+1);case 4:E[0].el.style.display=E[2].el.style.display="block",u.focus&&e.focus(),Be();case 7:case"end":return t.stop()}},t,this)}))),l.setContent(E[1],f),l.updateCurrItem(),Ae("afterInit"),_e||(C=setInterval(function(){tt||q||te||y!==l.currItem.initialZoomLevel||l.updateSize()},1e3)),s.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,p=!0,Ae("close"),Ge(),rn(l.currItem,null,!0,l.destroy))},destroy:function(){Ae("destroy"),Vt&&clearTimeout(Vt),e.setAttribute("aria-hidden","true"),e.className=R,C&&clearInterval(C),s.unbind(l.scrollWrap,w,l),s.unbind(window,"scroll",l),Tt(),ot(),Se=null},panTo:function(e,t,n){n||(e>oe.min.x?e=oe.min.x:e<oe.max.x&&(e=oe.max.x),t>oe.min.y?t=oe.min.y:t<oe.max.y&&(t=oe.max.y)),ve.x=e,ve.y=t,Pe()},handleEvent:function(e){e=e||window.event,g[e.type]&&g[e.type](e)},goTo:function(e){e=ke(e);var t=e-f;be=t,f=e,l.currItem=en(f),ge-=t,ze(xe.x*ge),ot(),ae=!1,l.updateCurrItem()},next:function(){l.goTo(f+1)},prev:function(){l.goTo(f-1)},updateCurrZoomItem:function(e){if(e&&Ae("beforeChange",0),E[1].el.children.length){var t=E[1].el.children[0];ie=s.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ie=null;oe=l.currItem.bounds,x=y=l.currItem.initialZoomLevel,ve.x=oe.center.x,ve.y=oe.center.y,e&&Ae("afterChange")},invalidateCurrItems:function(){I=!0;for(var e=0;e<3;e++)E[e].item&&(E[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==be){var t,n=Math.abs(be);if(!(e&&n<2)){l.currItem=en(f),Ee=!1,Ae("beforeChange",be),n>=3&&(h+=be+(be>0?-3:3),n=3);for(var r=0;r<n;r++)be>0?(t=E.shift(),E[2]=t,h++,Ze((h+2)*xe.x,t.el.style),l.setContent(t,f-n+r+1+1)):(t=E.pop(),E.unshift(t),h--,Ze(h*xe.x,t.el.style),l.setContent(t,f+n-r-1-1));if(ie&&1===Math.abs(be)){var o=en(T);o.initialZoomLevel!==y&&(cn(o,we),mn(o),Re(o))}be=0,l.updateCurrZoomItem(),T=f,Ae("afterChange")}}},updateCurrItemAsync:function(){function e(e){return t.apply(this,arguments)}var t=r(i.a.mark(function e(t){var n,r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==be){e.next=2;break}return e.abrupt("return");case 2:if(n=Math.abs(be),!(t&&n<2)){e.next=5;break}return e.abrupt("return");case 5:l.currItem=en(f),Ee=!1,Ae("beforeChange",be),n>=3&&(h+=be+(be>0?-3:3),n=3),o=0;case 10:if(!(o<n)){e.next=29;break}if(!(be>0)){e.next=20;break}return r=E.shift(),E[2]=r,h++,Ze((h+2)*xe.x,r.el.style),e.next=18,l.setContentAsync(r,f-n+o+1+1);case 18:e.next=26;break;case 20:return r=E.pop(),E.unshift(r),h--,Ze(h*xe.x,r.el.style),e.next=26,l.setContentAsync(r,f+n-o-1-1);case 26:o++,e.next=10;break;case 29:ie&&1===Math.abs(be)&&(a=en(T),a.initialZoomLevel!==y&&(cn(a,we),mn(a),Re(a))),be=0,l.updateCurrZoomItem(),T=f,Ae("afterChange");case 34:case"end":return e.stop()}},e,this)}));return e}(),updateSize:function(t){if(!_e&&u.modal){var n=s.getScrollY();if(N!==n&&(e.style.top=n+"px",N=n),!t&&Ie.x===window.innerWidth&&Ie.y===window.innerHeight)return;Ie.x=window.innerWidth,Ie.y=window.innerHeight,e.style.height=Ie.y+"px"}if(we.x=l.scrollWrap.clientWidth,we.y=l.scrollWrap.clientHeight,Qe(),xe.x=we.x+Math.round(we.x*u.spacing),xe.y=we.y,ze(xe.x*ge),Ae("beforeResize"),void 0!==h){for(var r,o,i,a=0;a<3;a++)r=E[a],Ze((a+h)*xe.x,r.el.style),i=f+a-1,u.loop&&tn()>2&&(i=ke(i)),o=en(i),o&&(I||o.needsUpdate||!o.bounds)?(l.cleanSlide(o),l.setContent(r,i),1===a&&(l.currItem=o,l.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===r.index&&i>=0&&l.setContent(r,i),o&&o.container&&(cn(o,we),mn(o),Re(o));I=!1}x=y=l.currItem.initialZoomLevel,oe=l.currItem.bounds,oe&&(ve.x=oe.center.x,ve.y=oe.center.y,Pe(!0)),Ae("resize")},zoomTo:function(e,t,n,r,o){t&&(x=y,bt.x=Math.abs(t.x)-ve.x,bt.y=Math.abs(t.y)-ve.y,Ue(he,ve));var i=Ye(e,!1),a={};$e("x",i,a,e),$e("y",i,a,e);var l=y,u={x:ve.x,y:ve.y};He(a);var c=function(t){1===t?(y=e,ve.x=a.x,ve.y=a.y):(y=(e-l)*t+l,ve.x=(a.x-u.x)*t+u.x,ve.y=(a.y-u.y)*t+u.y),o&&o(t),Pe(1===t)};n?it("customZoomTo",0,1,n,r||s.easing.sine.inOut,c):c(1)}},lt={},ut={},ct={},pt={},dt={},ft=[],mt={},ht=[],vt={},wt=0,gt=fe(),yt=0,xt=fe(),bt=fe(),_t=fe(),Ct=function(e,t){return e.x===t.x&&e.y===t.y},It=function(e,t){return Math.abs(e.x-t.x)<25&&Math.abs(e.y-t.y)<25},Et=function(e,t){return vt.x=Math.abs(e.x-t.x),vt.y=Math.abs(e.y-t.y),Math.sqrt(vt.x*vt.x+vt.y*vt.y)},Tt=function(){J&&(P(J),J=null)},kt=function e(){q&&(J=F(e),Wt())},St=function(){return!("fit"===u.scaleMode&&y===l.currItem.initialZoomLevel)},Dt=function e(t,n){return!(!t||t===document)&&(!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(n(t)?t:e(t.parentNode,n)))},At={},Lt=function(e,t){return At.prevent=!Dt(e.target,u.isClickableElement),Ae("preventDragEvent",e,t,At),At.prevent},Ot=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Ft=function(e,t,n){if(e-W>50){var r=ht.length>2?ht.shift():{};r.x=t,r.y=n,ht.push(r),W=e}},Pt=function(){var e=ve.y-l.currItem.initialPosition.y;return 1-Math.abs(e/(we.y/2))},Rt={},Zt={},zt=[],Nt=function(e){for(;zt.length>0;)zt.pop();return O?(de=0,ft.forEach(function(e){0===de?zt[0]=e:1===de&&(zt[1]=e),de++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(zt[0]=Ot(e.touches[0],Rt),e.touches.length>1&&(zt[1]=Ot(e.touches[1],Zt))):(Rt.x=e.pageX,Rt.y=e.pageY,Rt.id="",zt[0]=Rt),zt},Ut=function(e,t){var n,r,o,i,a=ve[e]+t[e],s=t[e]>0,c=xt.x+t.x,p=xt.x-mt.x;if(n=a>oe.min[e]||a<oe.max[e]?u.panEndFriction:1,a=ve[e]+t[e]*n,(u.allowPanToNext||y===l.currItem.initialZoomLevel)&&(ie?"h"!==se||"x"!==e||V||(s?(a>oe.min[e]&&(n=u.panEndFriction,oe.min[e]-a,r=oe.min[e]-he[e]),(r<=0||p<0)&&tn()>1?(i=c,p<0&&c>mt.x&&(i=mt.x)):oe.min.x!==oe.max.x&&(o=a)):(a<oe.max[e]&&(n=u.panEndFriction,a-oe.max[e],r=he[e]-oe.max[e]),(r<=0||p>0)&&tn()>1?(i=c,p>0&&c<mt.x&&(i=mt.x)):oe.min.x!==oe.max.x&&(o=a))):i=c,"x"===e))return void 0!==i&&(ze(i,!0),Q=i!==mt.x),oe.min.x!==oe.max.x&&(void 0!==o?ve.x=o:Q||(ve.x+=t.x*n)),void 0!==i;ae||Q||y>l.currItem.fitRatio&&(ve[e]+=t[e]*n)},Ht=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Qt)return void e.preventDefault();if(!j||"mousedown"!==e.type){if(Lt(e,!0)&&e.preventDefault(),Ae("pointerDown"),O){var t=s.arraySearch(ft,e.pointerId,"id");t<0&&(t=ft.length),ft[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Nt(e),r=n.length;ee=null,ot(),q&&1!==r||(q=le=!0,s.bind(window,v,l),G=pe=ue=Y=Q=X=$=V=!1,se=null,Ae("firstTouchStart",n),Ue(he,ve),me.x=me.y=0,Ue(pt,n[0]),Ue(dt,pt),mt.x=xe.x*ge,ht=[{x:pt.x,y:pt.y}],W=K=Oe(),Ye(y,!0),Tt(),kt()),!te&&r>1&&!ae&&!Q&&(x=y,V=!1,te=$=!0,me.y=me.x=0,Ue(he,ve),Ue(lt,n[0]),Ue(ut,n[1]),Mt(lt,ut,_t),bt.x=Math.abs(_t.x)-ve.x,bt.y=Math.abs(_t.y)-ve.y,ne=re=Et(lt,ut))}}},Kt=function(e){if(e.preventDefault(),O){var t=s.arraySearch(ft,e.pointerId,"id");if(t>-1){var n=ft[t];n.x=e.pageX,n.y=e.pageY}}if(q){var r=Nt(e);if(se||X||te)ee=r;else if(xt.x!==xe.x*ge)se="h";else{var o=Math.abs(r[0].x-pt.x)-Math.abs(r[0].y-pt.y);Math.abs(o)>=10&&(se=o>0?"h":"v",ee=r)}}},Wt=function(){if(ee){var e=ee.length;if(0!==e)if(Ue(lt,ee[0]),ct.x=lt.x-pt.x,ct.y=lt.y-pt.y,te&&e>1){if(pt.x=lt.x,pt.y=lt.y,!ct.x&&!ct.y&&Ct(ee[1],ut))return;Ue(ut,ee[1]),V||(V=!0,Ae("zoomGestureStarted"));var t=Et(lt,ut),n=qt(t);n>l.currItem.initialZoomLevel+l.currItem.initialZoomLevel/15&&(pe=!0);var r=1,o=je(),i=qe();if(n<o)if(u.pinchToClose&&!pe&&x<=l.currItem.initialZoomLevel){var a=o-n,s=1-a/(o/1.2);Me(s),Ae("onPinchClose",s),ue=!0}else r=(o-n)/o,r>1&&(r=1),n=o-r*(o/3);else n>i&&(r=(n-i)/(6*o),r>1&&(r=1),n=i+r*o);r<0&&(r=0),ne=t,Mt(lt,ut,gt),me.x+=gt.x-_t.x,me.y+=gt.y-_t.y,Ue(_t,gt),ve.x=Ne("x",n),ve.y=Ne("y",n),G=n>y,y=n,Pe()}else{if(!se)return;if(le&&(le=!1,Math.abs(ct.x)>=10&&(ct.x-=ee[0].x-dt.x),Math.abs(ct.y)>=10&&(ct.y-=ee[0].y-dt.y)),pt.x=lt.x,pt.y=lt.y,0===ct.x&&0===ct.y)return;if("v"===se&&u.closeOnVerticalDrag&&!St()){me.y+=ct.y,ve.y+=ct.y;var c=Pt();return Y=!0,Ae("onVerticalDrag",c),Me(c),void Pe()}Ft(Oe(),lt.x,lt.y),X=!0,oe=l.currItem.bounds;var p=Ut("x",ct);p||(Ut("y",ct),He(ve),Pe())}}},Bt=function(){var e=r(i.a.mark(function e(t){var n,r,o,a,c,p,d,f,m,h,w;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.isOldAndroid){e.next=4;break}if(!j||"mouseup"!==t.type){e.next=3;break}return e.abrupt("return");case 3:t.type.indexOf("touch")>-1&&(clearTimeout(j),j=setTimeout(function(){j=0},600));case 4:if(Ae("pointerUp"),Lt(t,!1)&&t.preventDefault(),O&&(r=s.arraySearch(ft,t.pointerId,"id"))>-1&&(n=ft.splice(r,1)[0],navigator.msPointerEnabled?(o={4:"mouse",2:"touch",3:"pen"},n.type=o[t.pointerType],n.type||(n.type=t.pointerType||"mouse")):n.type=t.pointerType||"mouse"),a=Nt(t),p=a.length,"mouseup"===t.type&&(p=0),2!==p){e.next=12;break}return ee=null,e.abrupt("return",!0);case 12:if(1===p&&Ue(dt,a[0]),0!==p||se||ae||(n||("mouseup"===t.type?n={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(n={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),Ae("touchRelease",t,n)),d=-1,0===p&&(q=!1,s.unbind(window,v,l),Tt(),te?d=0:-1!==yt&&(d=Oe()-yt)),yt=1===p?Oe():-1,c=-1!==d&&d<150?"zoom":"swipe",te&&p<2&&(te=!1,1===p&&(c="zoomPointerUp"),Ae("zoomGestureEnded")),ee=null,X||V||ae||Y){e.next=22;break}return e.abrupt("return");case 22:if(ot(),B||(B=Gt()),B.calculateSwipeSpeed("x"),!Y){e.next=29;break}return f=Pt(),f<u.verticalDragRange?l.close():(m=ve.y,h=ce,it("verticalDrag",0,1,300,s.easing.cubic.out,function(e){ve.y=(l.currItem.initialPosition.y-m)*e+m,Me((1-h)*e+h),Pe()}),Ae("onVerticalDrag",1)),e.abrupt("return");case 29:if(!Q&&!ae||0!==p){e.next=36;break}return e.next=32,jt(c,B);case 32:if(!(w=e.sent)){e.next=35;break}return e.abrupt("return");case 35:c="zoomPointerUp";case 36:if(!ae){e.next=38;break}return e.abrupt("return");case 38:if("swipe"===c){e.next=41;break}return $t(),e.abrupt("return");case 41:!Q&&y>l.currItem.fitRatio&&Yt(B);case 42:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){ht.length>1?(e=Oe()-W+50,t=ht[ht.length-2][r]):(e=Oe()-K,t=dt[r]),n.lastFlickOffset[r]=pt[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(ve[e]>oe.min[e]?n.backAnimDestination[e]=oe.min[e]:ve[e]<oe.max[e]&&(n.backAnimDestination[e]=oe.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,it("bounceZoomPan"+e,ve[e],n.backAnimDestination[e],t||300,s.easing.sine.out,function(t){ve[e]=t,Pe()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,ve[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(et.zoomPan&&(et.zoomPan.raf=F(n.panAnimLoop),n.now=Oe(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Pe(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return ve.x=Math.round(ve.x),ve.y=Math.round(ve.y),Pe(),void nt("zoomPan")}};return n},Yt=function(e){if(e.calculateSwipeSpeed("y"),oe=l.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;rt("zoomPan"),e.lastNow=Oe(),e.panAnimLoop()},jt=function(){var e=r(i.a.mark(function e(t,n){var o,a,c,p,d,m,h,v;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ae||(wt=f),"swipe"===t&&(c=pt.x-dt.x,p=n.lastFlickDist.x<10,c>30&&(p||n.lastFlickOffset.x>20)?a=-1:c<-30&&(p||n.lastFlickOffset.x<-20)&&(a=1)),a&&(f+=a,f<0?(f=u.loop?tn()-1:0,d=!0):f>=tn()&&(f=u.loop?0:tn()-1,d=!0),d&&!u.loop||(be+=a,ge-=a,o=!0)),m=xe.x*ge,h=Math.abs(m-xt.x),o||m>xt.x==n.lastFlickSpeed.x>0?(v=Math.abs(n.lastFlickSpeed.x)>0?h/Math.abs(n.lastFlickSpeed.x):333,v=Math.min(v,400),v=Math.max(v,250)):v=333,wt===f&&(o=!1),ae=!0,Ae("mainScrollAnimStart"),e.next=11,at("mainScroll",xt.x,m,v,s.easing.cubic.out,ze,r(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ot(),ae=!1,wt=-1,!o&&wt===f){e.next=6;break}return e.next=6,l.updateCurrItemAsync();case 6:Ae("mainScrollAnimComplete");case 7:case"end":return e.stop()}},e,this)})));case 11:if(!o){e.next=14;break}return e.next=14,l.updateCurrItemAsync(!0);case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),qt=function(e){return 1/re*e*x},$t=function(){var e=y,t=je(),n=qe();y<t?e=t:y>n&&(e=n);var r,o=ce;return ue&&!G&&!pe&&y<t?(l.close(),!0):(ue&&(r=function(e){Me((1-o)*e+o)}),l.zoomTo(e,0,200,s.easing.cubic.out,r),!0)};Te("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,o){k=e+t,S=e+n,D=e+r,A=o?e+o:""};O=U.pointerEvent,O&&U.touch&&(U.touch=!1),O?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):U.touch?(e("touch","start","move","end","cancel"),M=!0):e("mouse","down","move","up"),v=S+" "+D+" "+A,w=k,O&&!M&&(M=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),l.likelyTouchDevice=M,g[k]=Ht,g[S]=Kt,g[D]=Bt,A&&(g[A]=g[D]),U.touch&&(w+=" mousedown",v+=" mousemove mouseup",g.mousedown=g[k],g.mousemove=g[S],g.mouseup=g[D]),M||(u.allowPanToNext=!1)}}});var Vt,Xt,Jt,Qt,en,tn,nn,rn=function(t,n,r,o){Vt&&clearTimeout(Vt),Qt=!0,Jt=!0;var i;t.initialLayout?(i=t.initialLayout,t.initialLayout=null):i=u.getThumbBoundsFn&&u.getThumbBoundsFn(f);var a=r?u.hideAnimationDuration:u.showAnimationDuration,c=function(){nt("initialZoom"),r?(l.template.removeAttribute("style"),l.bg.removeAttribute("style")):(Me(1),n&&(n.style.display="block"),s.addClass(e,"pswp--animated-in"),Ae("initialZoom"+(r?"OutEnd":"InEnd"))),o&&o(),Qt=!1};if(!a||!i||void 0===i.x)return Ae("initialZoom"+(r?"Out":"In")),y=t.initialZoomLevel,Ue(ve,t.initialPosition),Pe(),e.style.opacity=r?0:1,Me(1),void(a?setTimeout(function(){c()},a):c());!function(){var n=d,o=!l.currItem.src||l.currItem.loadError||u.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(y=i.w/t.w,ve.x=i.x,ve.y=i.y-Z,l[o?"template":"bg"].style.opacity=.001,Pe()),rt("initialZoom"),r&&!n&&s.removeClass(e,"pswp--animated-in"),o&&(r?s[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){s.addClass(e,"pswp--animate_opacity")},30)),Vt=setTimeout(function(){if(Ae("initialZoom"+(r?"Out":"In")),r){var l=i.w/t.w,u={x:ve.x,y:ve.y},p=y,d=ce,f=function(t){1===t?(y=l,ve.x=i.x,ve.y=i.y-N):(y=(l-p)*t+p,ve.x=(i.x-u.x)*t+u.x,ve.y=(i.y-N-u.y)*t+u.y),Pe(),o?e.style.opacity=1-t:Me(d-t*d)};n?it("initialZoom",0,1,a,s.easing.cubic.out,f,c):(f(1),Vt=setTimeout(c,a+20))}else y=t.initialZoomLevel,Ue(ve,t.initialPosition),Pe(),Me(1),o?e.style.opacity=1:Me(1),Vt=setTimeout(c,a+20)},r?25:90)}()},on={},an=[],sn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xt.length}},ln=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},un=function(e,t,n){var r=e.bounds;r.center.x=Math.round((on.x-t)/2),r.center.y=Math.round((on.y-n)/2)+e.vGap.top,r.max.x=t>on.x?Math.round(on.x-t):r.center.x,r.max.y=n>on.y?Math.round(on.y-n)+e.vGap.top:r.center.y,r.min.x=t>on.x?0:r.center.x,r.min.y=n>on.y?e.vGap.top:r.center.y},cn=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),Ae("parseVerticalMargin",e)),on.x=t.x,on.y=t.y-e.vGap.top-e.vGap.bottom,r){var o=on.x/e.w,i=on.y/e.h;e.fitRatio=o<i?o:i;var a=u.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=ln())}if(!n)return;return un(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ln(),e.initialPosition=e.bounds.center,e.bounds},pn=function(e,t,n,r,o,i){t.loadError||r&&(t.imageAppended=!0,mn(t,r,t===l.currItem&&Ee),n.appendChild(r),i&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},dn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=s.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},fn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=u.errorMsg.replace("%url%",e.src),!0},mn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=o+"px"),t.style.width=r+"px",t.style.height=o+"px"}},hn=function(){if(an.length){for(var e,t=0;t<an.length;t++)e=an[t],e.holder.index===e.index&&pn(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);an=[]}};Te("Controller",{publicMethods:{lazyLoadItem:function(e){e=ke(e);var t=en(e);t&&(!t.loaded&&!t.loading||I)&&(Ae("gettingData",e,t),t.src&&dn(t))},initController:function(){s.extend(u,sn,!0),l.items=Xt=n,en=l.getItemAt,tn=u.getNumItemsFn,nn=u.loop,tn()<3&&(u.loop=!1),De("beforeChange",function(e){var t,n=u.preload,r=null===e||e>=0,o=Math.min(n[0],tn()),i=Math.min(n[1],tn());for(t=1;t<=(r?i:o);t++)l.lazyLoadItem(f+t);for(t=1;t<=(r?o:i);t++)l.lazyLoadItem(f-t)}),De("initialLayout",function(){l.currItem.initialLayout=u.getThumbBoundsFn&&u.getThumbBoundsFn(f)}),De("mainScrollAnimComplete",hn),De("initialZoomInEnd",hn),De("destroy",function(){for(var e,t=0;t<Xt.length;t++)e=Xt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);an=null})},getItemAt:function(e){return e>=0&&(void 0!==Xt[e]&&Xt[e])},allowProgressiveImg:function(){return u.forceProgressiveLoading||!M||u.mouseUsed||screen.width>1200},setContent:function(e,t){u.loop&&(t=ke(t));var n=l.getItemAt(e.index);n&&(n.container=null);var r,o=l.getItemAt(t);if(!o)return void(e.el.innerHTML="");Ae("gettingData",t,o),e.index=t,e.item=o;var i=o.container=s.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?i.appendChild(o.html):i.innerHTML=o.html),fn(o),cn(o,we),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(r=s.createEl("pswp__img","img"),r.style.opacity=1,r.src=o.src,mn(o,r),pn(0,o,i,r));else{if(o.loadComplete=function(n){if(c){if(e&&e.index===t){if(fn(n,!0))return n.loadComplete=n.img=null,cn(n,we),Re(n),void(e.index===f&&l.updateCurrZoomItem());n.imageAppended?!Qt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):U.transform&&(ae||Qt)?an.push({item:n,baseDiv:i,img:n.img,index:t,holder:e,clearPlaceholder:!0}):pn(0,n,i,n.img,0,!0)}n.loadComplete=null,n.img=null,Ae("imageLoadComplete",t,n)}},s.features.transform){var a="pswp__img pswp__img--placeholder";a+=o.msrc?"":" pswp__img--placeholder--blank";var p=s.createEl(a,o.msrc?"img":"");o.msrc&&(p.src=o.msrc),mn(o,p),i.appendChild(p),o.placeholder=p}o.loading||dn(o),l.allowProgressiveImg()&&(!Jt&&U.transform?an.push({item:o,baseDiv:i,img:o.img,index:t,holder:e}):pn(0,o,i,o.img,0,!0))}Jt||t!==f?Re(o):(ie=i.style,rn(o,r||o.img)),e.el.innerHTML="",e.el.appendChild(i)},setContentAsync:function(){function e(e,n){return t.apply(this,arguments)}var t=r(i.a.mark(function e(t,n){var r,o,a,p,d,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.loop&&(n=ke(n)),r=l.getItemAt(t.index),r&&(r.container=null),o=l.getItemAt(n)){e.next=7;break}return t.el.innerHTML="",e.abrupt("return");case 7:return e.next=9,Le("gettingData",n,o);case 9:t.index=n,t.item=o,p=o.container=s.createEl("pswp__zoom-wrap"),!o.src&&o.html&&(o.html.tagName?p.appendChild(o.html):p.innerHTML=o.html),fn(o),cn(o,we),!o.src||o.loadError||o.loaded?o.src&&!o.loadError&&(a=s.createEl("pswp__img","img"),a.style.opacity=1,a.src=o.src,mn(o,a),pn(0,o,p,a)):(o.loadComplete=function(e){if(c){if(t&&t.index===n){if(fn(e,!0))return e.loadComplete=e.img=null,cn(e,we),Re(e),void(t.index===f&&l.updateCurrZoomItem());e.imageAppended?!Qt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):U.transform&&(ae||Qt)?an.push({item:e,baseDiv:p,img:e.img,index:n,holder:t,clearPlaceholder:!0}):pn(0,e,p,e.img,0,!0)}e.loadComplete=null,e.img=null,Ae("imageLoadComplete",n,e)}},s.features.transform&&(d="pswp__img pswp__img--placeholder",d+=o.msrc?"":" pswp__img--placeholder--blank",m=s.createEl(d,o.msrc?"img":""),o.msrc&&(m.src=o.msrc),mn(o,m),p.appendChild(m),o.placeholder=m),o.loading||dn(o),l.allowProgressiveImg()&&(!Jt&&U.transform?an.push({item:o,baseDiv:p,img:o.img,index:n,holder:t}):pn(0,o,p,o.img,0,!0))),Jt||n!==f?Re(o):(ie=p.style,rn(o,a||o.img)),t.el.innerHTML="",t.el.appendChild(p);case 19:case"end":return e.stop()}},e,this)}));return e}(),cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var vn,wn={},gn=function(e,t,n){var r=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(r)};Te("Tap",{publicMethods:{initTap:function(){De("firstTouchStart",l.onTapStart),De("touchRelease",l.onTapRelease),De("destroy",function(){wn={},vn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(vn),vn=null)},onTapRelease:function(e,t){if(t&&!X&&!$&&!tt){var n=t;if(vn&&(clearTimeout(vn),vn=null,It(n,wn)))return void Ae("doubleTap",n);if("mouse"===t.type)return void gn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||s.hasClass(e.target,"pswp__single-tap"))return void gn(e,t);Ue(wn,n),vn=setTimeout(function(){gn(e,t),vn=null},300)}}}});var yn;Te("DesktopZoom",{publicMethods:{initDesktopZoom:function(){z||(M?De("mouseUsed",function(){l.setupDesktopZoom()}):l.setupDesktopZoom(!0))},setupDesktopZoom:function(t){yn={};var n="wheel mousewheel DOMMouseScroll";De("bindEvents",function(){s.bind(e,n,l.handleMouseWheel)}),De("unbindEvents",function(){yn&&s.unbind(e,n,l.handleMouseWheel)}),l.mouseZoomedIn=!1;var r,o=function(){l.mouseZoomedIn&&(s.removeClass(e,"pswp--zoomed-in"),l.mouseZoomedIn=!1),y<1?s.addClass(e,"pswp--zoom-allowed"):s.removeClass(e,"pswp--zoom-allowed"),i()},i=function(){r&&(s.removeClass(e,"pswp--dragging"),r=!1)};De("resize",o),De("afterChange",o),De("pointerDown",function(){l.mouseZoomedIn&&(r=!0,s.addClass(e,"pswp--dragging"))}),De("pointerUp",i),t||o()},handleMouseWheel:function(e){if(y<=l.currItem.fitRatio)return u.modal&&(!u.closeOnScroll||tt||q?e.preventDefault():L&&Math.abs(e.deltaY)>2&&(d=!0,l.close())),!0;if(e.stopPropagation(),yn.x=0,"deltaX"in e)1===e.deltaMode?(yn.x=18*e.deltaX,yn.y=18*e.deltaY):(yn.x=e.deltaX,yn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(yn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?yn.y=-.16*e.wheelDeltaY:yn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;yn.y=e.detail}Ye(y,!0);var t=ve.x-yn.x,n=ve.y-yn.y;(u.modal||t<=oe.min.x&&t>=oe.max.x&&n<=oe.min.y&&n>=oe.max.y)&&e.preventDefault(),l.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:we.x/2+ye.x,y:we.y/2+ye.y};var n=u.getDoubleTapZoom(!0,l.currItem),r=y===n;l.mouseZoomedIn=!r,l.zoomTo(r?l.currItem.initialZoomLevel:n,t,333),s[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var xn,bn,_n,Cn,In,En,Tn,kn,Sn,Dn,An,Ln,On={history:!0,galleryUID:1},Mn=function(){return An.hash.substring(1)},Fn=function(){xn&&clearTimeout(xn),_n&&clearTimeout(_n)},Pn=function(){var e=Mn(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var o=r[n].split("=");o.length<2||(t[o[0]]=o[1])}if(u.galleryPIDs){var i=t.pid;for(t.pid=0,n=0;n<Xt.length;n++)if(Xt[n].pid===i){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Rn=function e(){if(_n&&clearTimeout(_n),tt||q)return void(_n=setTimeout(e,500));Cn?clearTimeout(bn):Cn=!0;var t=f+1,n=en(f);n.hasOwnProperty("pid")&&(t=n.pid);var r=Tn+"&gid="+u.galleryUID+"&pid="+t;kn||-1===An.hash.indexOf(r)&&(Dn=!0);var o=An.href.split("#")[0]+"#"+r;Ln?"#"+r!==window.location.hash&&history[kn?"replaceState":"pushState"]("",document.title,o):kn?An.replace(o):An.hash=r,kn=!0,bn=setTimeout(function(){Cn=!1},60)};Te("History",{publicMethods:{initHistory:function(){if(s.extend(u,On,!0),u.history){An=window.location,Dn=!1,Sn=!1,kn=!1,Tn=Mn(),Ln="pushState"in history,Tn.indexOf("gid=")>-1&&(Tn=Tn.split("&gid=")[0],Tn=Tn.split("?gid=")[0]),De("afterChange",l.updateURL),De("unbindEvents",function(){s.unbind(window,"hashchange",l.onHashChange)});var e=function(){En=!0,Sn||(Dn?history.back():Tn?An.hash=Tn:Ln?history.pushState("",document.title,An.pathname+An.search):An.hash=""),Fn()};De("unbindEvents",function(){d&&e()}),De("destroy",function(){En||e()}),De("firstUpdate",function(){f=Pn().pid});var t=Tn.indexOf("pid=");t>-1&&(Tn=Tn.substring(0,t),"&"===Tn.slice(-1)&&(Tn=Tn.slice(0,-1))),setTimeout(function(){c&&s.bind(window,"hashchange",l.onHashChange)},40)}},onHashChange:function(){if(Mn()===Tn)return Sn=!0,void l.close();Cn||(In=!0,l.goTo(Pn().pid),In=!1)},updateURL:function(){Fn(),In||(kn?xn=setTimeout(Rn,800):Rn())}}}),s.extend(l,st)};t.a=s},function(e,t,n){var r,o;"function"==typeof Symbol&&Symbol.iterator;/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
!function(i,a){r=a,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}(0,function(){"use strict";return function(e,t){var n,r,o,i,a,s,l,u,c,p,d,f,m,h,v,w,g,y,x,b=this,_=!1,C=!0,I=!0,E={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},T=function(e){if(w)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!c&&R();for(var n,r,o=e.target||e.srcElement,i=o.getAttribute("class")||"",a=0;a<B.length;a++)n=B[a],n.onTap&&i.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),w=!0;var s=t.features.isOldAndroid?600:30;g=setTimeout(function(){w=!1},s)}},k=function(){return!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},S=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},D=function(){var e=1===v.getNumItemsFn();e!==h&&(S(r,"ui--one-slide",e),h=e)},A=function(){S(l,"share-modal--hidden",I)},L=function(){return I=!I,I?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){I&&A()},300)):(A(),setTimeout(function(){I||t.addClass(l,"pswp__share-modal--fade-in")},30)),I||M(),!1},O=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||L(),!1))},M=function(){for(var e,t,n,r,o,i="",a=0;a<v.shareButtons.length;a++)e=v.shareButtons[a],n=v.getImageURLForShare(e),r=v.getPageURLForShare(e),o=v.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(r)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(o)),i+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(i=v.parseShareButtonOut(e,i));l.children[0].innerHTML=i,l.children[0].onclick=O},F=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},P=0,R=function(){clearTimeout(x),P=0,c&&b.setIdle(!1)},Z=function(e){e=e||window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(x),x=setTimeout(function(){b.setIdle(!0)},v.timeToIdleOutside))},z=function(){v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},N=function(){v.preloaderEl&&(U(!0),p("beforeChange",function(){clearTimeout(m),m=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&U(!1):U(!0)},v.loadingIndicatorDelay)}),p("imageLoadComplete",function(t,n){e.currItem===n&&U(!0)}))},U=function(e){f!==e&&(S(d,"preloader--active",!e),f=e)},H=function(e){var n=e.vGap;if(k()){var a=v.barsSize;if(v.captionEl&&"auto"===a.bottom)if(i||(i=t.createEl("pswp__caption pswp__caption--fake"),i.appendChild(t.createEl("pswp__caption__center")),r.insertBefore(i,o),t.addClass(r,"pswp__ui--fit")),v.addCaptionHTMLFn(e,i,!0)){var s=i.clientHeight;n.bottom=parseInt(s,10)||44}else n.bottom=a.top;else n.bottom="auto"===a.bottom?0:a.bottom;n.top=a.top}else n.top=n.bottom=0},K=function(){v.timeToIdle&&p("mouseUsed",function(){t.bind(document,"mousemove",R),t.bind(document,"mouseout",Z),y=setInterval(function(){2===++P&&b.setIdle(!0)},v.timeToIdle/2)})},W=function(){p("onVerticalDrag",function(e){C&&e<.95?b.hideControls():!C&&e>=.95&&b.showControls()});var e;p("onPinchClose",function(t){C&&t<.9?(b.hideControls(),e=!0):e&&!C&&t>.9&&b.showControls()}),p("zoomGestureEnded",function(){(e=!1)&&!C&&b.showControls()})},B=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){L()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){L()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){d=e}}],G=function(){var e,n,o,i=function(r){if(r)for(var i=r.length,a=0;a<i;a++){e=r[a],n=e.className;for(var s=0;s<B.length;s++)o=B[s],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};i(r.children);var a=t.getChildByClass(r,"pswp__top-bar");a&&i(a.children)};b.init=function(){t.extend(e.options,E,!0),v=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),p=e.listen,W(),p("beforeChange",b.update),p("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)}),p("preventDragEvent",function(e,t,n){var r=e.target||e.srcElement;r&&r.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)}),p("bindEvents",function(){t.bind(r,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),p("unbindEvents",function(){I||L(),y&&clearInterval(y),t.unbind(document,"mouseout",Z),t.unbind(document,"mousemove",R),t.unbind(r,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),p("destroy",function(){v.captionEl&&(i&&r.removeChild(i),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),b.setIdle(!1)}),v.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),p("initialZoomIn",function(){v.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")}),p("initialZoomOut",function(){t.addClass(r,"pswp__ui--hidden")}),p("parseVerticalMargin",H),G(),v.shareEl&&s&&l&&(I=!0),D(),K(),z(),N()},b.setIdle=function(e){c=e,S(r,"ui--idle",e)},b.update=function(){C&&e.currItem?(b.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),S(o,"caption--empty",!e.currItem.title)),_=!0):_=!1,I||L(),D()},b.updateFullscreen=function(r){r&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){v.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},b.onGlobalTap=function(n){n=n||window.event;var r=n.target||n.srcElement;if(!w)if(n.detail&&"mouse"===n.detail.pointerType){if(F(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(C?b.hideControls():b.showControls()),v.tapToClose&&(t.hasClass(r,"pswp__img")||F(r)))return void e.close()},b.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;S(r,"ui--over-close",F(t))},b.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),C=!1},b.showControls=function(){C=!0,_||b.update(),t.removeClass(r,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(u=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=u,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})}])});
//# sourceMappingURL=vue-photo-preview.js.map